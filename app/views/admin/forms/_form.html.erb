<%= form_with(model: form, url: (form.persisted? ? admin_form_path(form) : admin_forms_path), local: true) do |f| %>
  <% if form.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(form.errors.count, "error") %> prohibited this form from being saved:</h2>

      <ul class="usa-list">
      <% form.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <% if admin_permissions? %>
  <div class="grid-row grid-gap-md">
    <div class="grid-col-6">
      <%= f.select :user_id, options_for_select(User.all.map { |user| [user.email, user.id] }), { prompt: "Form Owner?" }, { id: "add-submission-viewer-dropdown", style: "display: inline-block; margin-right: 1em;", class: "usa-select" } %>
    </div>
    <div class="grid-col-6">
      <br>
      <fieldset class="usa-fieldset">
        <legend class="usa-sr-only">Form Template?</legend>
        <div class="usa-checkbox">
          <%= f.check_box :template, class: "usa-checkbox__input" %>
          <%= f.label :template, "Form Template?", class: "usa-checkbox__label" %>
        </div>
      </fieldset>
    </div>
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :kind, class: "usa-label" %>
        <%= f.text_field :kind, class: "usa-input" %>
      </div>
    </div>
  </div>
  <% end %>
  <div class="grid-row grid-gap-md">
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :name, class: "usa-label" %>
        <%= f.text_field :name, class: "usa-input" %>
      </div>
    </div>
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :title, class: "usa-label" %>
        <%= f.text_field :title, class: "usa-input" %>
      </div>
    </div>
  </div>
  <br>
  <div class="grid-row grid-gap-md">
    <div class="grid-col-6">
      <fieldset class="usa-fieldset">
        <legend class="usa-sr-only">Display Organization Tag Logo</legend>
        <div class="usa-checkbox">
          <%= f.check_box :display_header_logo, class: "usa-checkbox__input" %>
          <%= f.label :display_header_logo, "Display (320px wide by 80px tall) Organization logo before the title in the Form header?", class: "usa-checkbox__label" %>
        </div>
      </fieldset>
      <fieldset class="usa-fieldset">
        <legend class="usa-sr-only">Display Organization Tag Logo</legend>
        <div class="usa-checkbox">
          <%= f.check_box :display_header_square_logo, class: "usa-checkbox__input" %>
          <%= f.label :display_header_square_logo, "Display Square (80px wide by 80px tall) Organization logo before the title in the Form header?", class: "usa-checkbox__label" %>
        </div>
      </fieldset>
      <fieldset class="usa-fieldset">
        <legend class="usa-sr-only">Display Organization Tag Logo</legend>
        <div class="usa-checkbox">
          <%= f.check_box :early_submission, class: "usa-checkbox__input" %>
          <%= f.label :early_submission, "Early Submission: Display a submit button at the end of the first page in a multi-page form?", class: "usa-checkbox__label" %>
        </div>
      </fieldset>
    </div>
  </div>
  <div class="grid-row">
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :modal_button_text, class: "usa-label" %>
        <%= f.text_field :modal_button_text, class: "usa-input" %>
      </div>
    </div>
  </div>
  <div class="grid-row grid-gap-md">
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :instructions, class: "usa-label" %>
        <%= f.text_area :instructions, class: "usa-textarea" %>
      </div>
    </div>
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :disclaimer_text, class: "usa-label" %>
        <%= f.text_area :disclaimer_text, class: "usa-textarea", maxlength: 500 %>
      </div>
    </div>
  </div>
  <div class="grid-row grid-gap-md">
    <div class="grid-col-6">
      <div class="field">
        <%= f.label :success_text, class: "usa-label" %>
        <%= f.text_area :success_text, class: "usa-textarea" %>
      </div>
    </div>
  </div>
  <div class="field">
    <%= f.label :character_limit, class: "usa-label" %>
    (100,000 characters max)
    <%= f.text_field :character_limit, class: "usa-input" %>
  </div>
  <%= render 'components/whitelist_options', f: f %>
  <p>
    <%= f.submit class: "usa-button" %>
  </p>
<% end %>
